## React.FC

### ğŸ” React.FCë€ ?
FCëŠ” Function Component íƒ€ì…ì˜ ì¤„ì„ë§ë¡œ ë¦¬ì•¡íŠ¸ì™€ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì¡°í•©ìœ¼ë¡œ ê°œë°œí•  ë•Œ ì‚¬ìš©í•˜ëŠ” íƒ€ì…ì…ë‹ˆë‹¤.
í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•  ë•Œ íƒ€ì… ì„ ì–¸ì— ì“¸ ìˆ˜ ìˆë„ë¡ ë¦¬ì•¡íŠ¸ì—ì„œ ì œê³µí•˜ëŠ” íƒ€ì…ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.

React.FCëŠ” ì œë„¤ë¦­ìœ¼ë¡œ props íƒ€ì…ì„ ë„£ì–´ì„œ ì‚¬ìš©í•©ë‹ˆë‹¤.

```ts
type PurchaseList = {
    fruit: string;
}

export const Purchase: React.FC<PurchaseList> = ({fruit}) => (
    <div>I have to buy {fruit}</div>
);
```

### ğŸ‘ ë‹¨ì , React 18ë²„ì „ ì´ì „ê¹Œì§€ FC ì‚¬ìš©ì„ ì§€ì–‘í–ˆë˜ ì´ìœ  ?

#### íƒ€ì… ì§€ì • ì—†ì´ children ì „ë‹¬ ê°€ëŠ¥ â¡ï¸ ts ì‚¬ìš© ì¥ì  íœ˜ë°œ

ğŸ‘ğŸ» ë¦¬ì•¡íŠ¸ 18ë²„ì „ì˜ í˜„ì¬
```ts
type PurchaseList = {
    fruit: string;
}

export const Purchase: React.FC<PurchaseList> = ({fruit}) => (
    <div>I have to buy {fruit}</div>
);
```
```ts
const App = () => (
    <>
        <Purchase fruit="strawberry">
            <p>I'm children!</p>
        </Purchase>
    </Purchase>
)
```

Appì˜ ìœ„ì˜ ì½”ë“œëŠ” vscodeì—ì„œ Purchaseì— ë¹¨ê°„ ë°‘ì¤„ì´ ì³ì§€ë©°, ëŸ°íƒ€ì„ì˜ ê²½ìš° ì•„ë˜ ì—ëŸ¬ ë¬¸êµ¬ì™€ ê°™ì€ ë¬¸ì œë¥¼ ë°œìƒí•©ë‹ˆë‹¤.

    TS2322: Type '{ children: Element; fruit: string; }' is not assignable to type 'IntrinsicAttributes & PurchaseList'.
    Property 'children' does not exist on type 'IntrinsicAttributes & PurchaseList'.

ğŸ§ ë¦¬ì•¡íŠ¸ 17ë²„ì „ì—ì„œëŠ” ?

ë¦¬ì•¡íŠ¸ 18ë²„ì „ ì—…ë°ì´íŠ¸ ì´ì „ì—ëŠ” Purchase ì»´í¬ë„ŒíŠ¸ì—ì„œ ì–´ë– í•œ childrenì„ ë‹¤ë£¨ê³  ìˆì§€ ì•ŠìŒì—ë„ Appì—ì„œ childrenì„ ë„˜ê²¨ì£¼ì–´ë„ ëŸ°íƒ€ì„ ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. childrenì— ì •í™•í•œ íƒ€ì…ì„ ì§€ì •í•´ì£¼ì§€ ì•Šì•˜ìŒì—ë„ ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ê±°ì£ .

íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš© ëª©ì ì€ ì •í™•í•œ íƒ€ì…ì„ ì§€ì •í•´ì£¼ë©´ì„œ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œì˜ ì•ˆì „ì„±ì„ í–¥ìƒì‹œí‚¤ê¸° ìœ„í•¨ì…ë‹ˆë‹¤. 

childrenì´ ìˆì„ìˆ˜ë„ ì—†ì„ìˆ˜ë„ ìˆë‹¤ëŠ” ë¶ˆí™•ì‹¤ì„±ê³¼ í•¨ê»˜ childrenì˜ íƒ€ì…ì„ ì§€ì •í•˜ì§€ ì•Šê³  ì „ë‹¬í•˜ëŠ” ê²ƒì€, ì´ëŸ¬í•œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ëª©ì ì„ ëª¨í˜¸í•˜ê²Œ í•˜ë©° ì ì°¨ react.FC ì‚¬ìš©ì„ ì§€ì–‘í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

### âœ¨ ë‹¤ì‹œ ì‚¬ìš©í•˜ëŠ” ì´ìœ 
ì—…ë°ì´íŠ¸ ëœ ë¦¬ì•¡íŠ¸ 18ë²„ì „ì—ì„œëŠ” ì•”ì‹œì  children ê´€ë ¨ ì„ ì–¸ì´ ëª¨ë‘ ì œê±°ë˜ì—ˆìŠµë‹ˆë‹¤. ì•”ì‹œì ì´ì—ˆë˜ children ì‚¬ìš©ì„ ëª…ì‹œì ìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ì— ì„ ì–¸í•´ì•¼ í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë°”ë€Œë©´ì„œ ì§€ì–‘í–ˆë˜ react.FCë¥¼ ë‹¤ì‹œ ì‚¬ìš©í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

```ts
type PurchaseList = {
    children?: React.ReactNode; // ?ì´ ë¶™ìœ¼ë©´ childrenì´ ìˆì–´ë„ ë˜ê³  ì—†ì–´ë„ ë¨!
    fruit: string;
}

const Purchase: React.FC<PurchaseList> = ({children, fruit}) => (
    <>
        <div>I have to buy {fruit}</div>
        {children}
    </>
);

export default Purchase;
```

### FCë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ” í™˜ê²½ ?
defaultProps ì†ì„±ì´ ì ìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. defaultProps ê°’ì„ ì„¤ì •í•´ë„ ì´ˆê¸°ê°’ì„ ì¸ì‹í•˜ì§€ ëª»í•©ë‹ˆë‹¤.
```ts
type PurchaseList2 = {
    children?: React.ReactNode;
    fruit: string;
}

const Purchase2: React.FC<PurchaseList2> = ({children, fruit}) => (
    <>
        <div>I have to buy {fruit}</div>
        {children}
    </>
);

Purchase2.defaultProps = {  // ì¸ì‹ ë¶ˆê°€!
    fruit: 'banana'         
}
export default Purchase2;
```

```ts
import Purchase from './components/1-reactFC';
import Purchase2 from './components/2-defaultProps';

function App() {
  return (
    <>
      <Purchase fruit="strawberry">
            <p>I'm children!</p>
      </Purchase>
      <Purchase2 />  // ì—ëŸ¬!
    </>
  );
}

export default App;
```

### ì–´ë–»ê²Œ ëŒ€ì²˜ ?
âœ… react.FC ì ìš©í•˜ì§€ ì•Šê³  ì¼ë°˜ í•¨ìˆ˜ë¡œ ëŒ€ì²´í•©ë‹ˆë‹¤.

```ts
type PurchaseList2 = {
    children?: React.ReactNode;
    fruit: string;
}

const Purchase2 = ({children, fruit} : PurchaseList2) => (
    <>
        <div>I have to buy {fruit}</div>
        {children}
    </>
);

Purchase2.defaultProps = {
    fruit: 'banana'
}
export default Purchase2;
```


## ReactNode
ReactNodeëŠ” ReactElementë¥¼ ë¹„ë¡¯í•´ ëŒ€ë¶€ë¶„ì˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ ë°ì´í„° íƒ€ì…ì„ ì•„ìš°ë¥´ëŠ” ë²”ìš©ì ì¸ íƒ€ì…ì…ë‹ˆë‹¤. 
ReactNodeëŠ” ReactElementì˜ supersetìœ¼ë¡œ string, number, boolean, null, undefined, ReactElement, ReactFragment, ReactPortal ë“±ì˜ íƒ€ì…ì„ ì •ì˜í•©ë‹ˆë‹¤.

## ReactElement
ReactElementëŠ” typeê³¼ propsë¥¼ ê°€ì§„ ê°ì²´ì…ë‹ˆë‹¤.

 ||ReactNode|ReactElement|
|------|---|---|
|ëˆ„êµ¬ì˜ ë¦¬í„´ê°’?|í´ë˜ìŠ¤í˜• ì»´í¬ë„ŒíŠ¸ì˜ render()ì˜ ë¦¬í„´ê°’|í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì˜ ë¦¬í„´ê°’|

## PropsWithChildren
ì•„ë˜ ì½”ë“œì™€ ê°™ì´ ë§¤ë²ˆ childrenì„ ReactNodeë¡œ ì„ ì–¸í•˜ëŠ” ë°©ë²•ëŒ€ì‹  PropsWithChildrenë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ğŸŒ± ReactNodeë¡œ children ëª…ì‹œì  ì„ ì–¸í•˜ëŠ” ë°©ë²•
```ts
type PurchaseList = {
    children?: React.ReactNode; // ?ì´ ë¶™ìœ¼ë©´ childrenì´ ìˆì–´ë„ ë˜ê³  ì—†ì–´ë„ ë¨!
    fruit: string;
}

const Purchase: React.FC<PurchaseList> = ({children, fruit}) => (
    <>
        <div>I have to buy {fruit}</div>
        {children}
    </>
);

export default Purchase;
```

âœ… React.PropsWithChildrenìœ¼ë¡œ childrenì„ ì„ ì–¸í•˜ëŠ” ë°©ë²•
```ts
type PurchaseList = {
    fruit: string;
}

const Purchase: React.FC<React.PropsWithChildren<PurchaseList>> = ({children, fruit}) => (
    <>
        <div>I have to buy {fruit}</div>
        {children}
    </>
);

export default Purchase;
```

## PropsWithRef & RefObject
íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œ useRefë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ì œë„¤ë¦­ê³¼ ì´ˆê¸°ê°’ì„ ì„¤ì •í•´ì¤˜ì•¼ í•©ë‹ˆë‹¤. 
ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” íƒ€ì…ìœ¼ë¡œëŠ” Ref<T>, RefObject<T>, MutableRefObject<T> 3ê°œê°€ ìˆìŠµë‹ˆë‹¤.

Ref<T>ëŠ” ì¼ë°˜ ref ì½œë°±ìœ¼ë¡œ ì–´ë–¤ íƒ€ì…ì´ë“  ìƒê´€ì—†ì´ ë°›ì„ ìˆ˜ ìˆì§€ë§Œ, RefObject(RefObject<T>, MutableRefObject<T>)ëŠ” useRefë¡œ ìƒì„±í•œ refê°ì²´ íƒ€ì…ì„ ì •ì˜í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤. 

### RefObject
ë°˜í™˜ íƒ€ì…ìœ¼ë¡œëŠ” ë‘ ê°€ì§€ê°€ ìˆìœ¼ë©° ìˆ˜ì • ê°€ëŠ¥ ì—¬ë¶€ë¡œ ë¶„ë¥˜í•©ë‹ˆë‹¤.

#### 1. ìˆ˜ì • ê°€ëŠ¥
Ref.current ê°’ì„ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```ts
useRef<T>(initialValue: T): MutableRefObject<T>
```
ğŸ’¡ ì˜ˆì‹œ ì½”ë“œ
```ts
import { useEffect, useRef } from 'react'

const App = () => {
  const value = useRef<number>(0)
  
  useEffect(() => {
    value.current += 1 // initialValue íƒ€ì…ê³¼ ref.current íƒ€ì…ì´ ê°™ê¸°ì— ìˆ˜ì • ê°€ëŠ¥!
  }, [])
}
```

#### 2. ìˆ˜ì • ë¶ˆê°€ëŠ¥
```ts
useRef<T>(initialValue: T | null): RefObject<T>
```
ğŸ’¡ ì˜ˆì‹œ ì½”ë“œ
```ts
import { useEffect, useRef } from 'react'

const App = () => {
  const value = useRef<number>(null)
  
  useEffect(() => {
    value.current += 1  // initialValue ì´ˆê¸°ê°’ì´ nullë¡œ, ref.currentì˜ number íƒ€ì…ê³¼ ìƒì´í•˜ê¸°ì— ìˆ˜ì • ë¶ˆê°€!
  }, [])
}
```

ğŸ’¡ props ì „ë‹¬ ì˜ˆì‹œ ì½”ë“œ
```ts
interface TestProps {
    buttonRef: RefObject<HTMLButtonElement>
    //í˜¹ì€ buttonRef: MutableRefObject<HTMLButtonElement> // buttonRefì˜ íƒ€ì…ì„ ê°ì²´ë¡œ ì§€ì •
}

const Test: FC<TestProps> = ({buttonRef}) => {
    useEffect(() => {
        console.log(buttonRef.current); // currentì˜ ê°’ì„ ê°ì²´ë¡œ ë²”ìœ„ë¥¼ í•œì •í•¨!
    });
    return (
        <div>
            <button ref={buttonRef}>Hello</button> // 
        </div>
    )
}
```

## SetStateAction & Dispatch
ìƒìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ì— useState í•¨ìˆ˜ë¥¼ ì „ë‹¬í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.

ğŸ‘µğŸ» ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸
```ts
import React, { useState, useEffect } from 'react';
 import ProductOrder from './productOrder';
 
 function countProduct() {
 const [count, setCount] = useState(1);
   return (
    <>
      <Product
        setCount={setCount}
      />
    </>
 }

export default productContent;
```

ğŸ‘¶ğŸ» ìì‹ ì»´í¬ë„ŒíŠ¸

ğŸš« useState í•¨ìˆ˜ íƒ€ì…ì„ anyë¡œ í•˜ê²Œ ì•ˆë˜ëŠ” ì´ìœ 
```ts
function Product({ setCount } : { setCount : any }){ // anyì¼ ê²½ìš° 
	  const minus = () => {
    if (count > 1) {
      setCount(prev => { // any í˜•ì‹ìœ¼ë¡œ í‘œì‹œë˜ì–´ ì—ëŸ¬ ë°œìƒ!
        return --prev;
      });
    }
  };
  ...
}
```


âœ… ì˜¬ë°”ë¥¸ íƒ€ì… ì§€ì •
```ts
function Product({ setCount } : { setCount : React.Dispatch<React.SetStateAction<number>> }){ // setStateë¥¼ propsë¡œ ë„˜ê¸¸ ë•Œ, Dispatchë¥¼ ì‚¬ìš©í•˜ì—¬ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì˜ state ì´ˆê¸°ê°’ìœ¼ë¡œ ì§€ì •í•œ íƒ€ì…(number)ìœ¼ë¡œ ì§€ì •!
	  const handleMinus = () => {
    if (count > 1) {
      setCount(prev => {
        return --prev;
      });
    }
  };
  ...
}
```

## type aliasì™€ interfaceì˜ ì°¨ì´ë¥¼ ì´í•´í•˜ì—¬ props íƒ€ì…ì„ ì •ì˜í•˜ê¸°

Type Alias
```ts
type Point = {
  x: number;
  y: number;
};
```

interface
```ts
interface Point {
  x: number;
  y: number;
};
```

||Type Alias|interface|
|------|---|---|
|ì„ ì–¸ë³‘í•©|x|o|
|extends|o|ê°€ëŠ¥ì€ í•˜ì§€ë§Œ extendsë¡œ íƒ€ì…ì„ í™•ì¥í•˜ê²Œ ë˜ë©´ ìƒˆë¡œìš´ type alias íƒ€ì…ì„ ì„ ì–¸í•˜ëŠ” ê²ƒì€ ë¶ˆê°€ëŠ¥|
|intersection, union ì‚¬ìš©|o|x|

### 1. ì„ ì–¸ë³‘í•©

interfaceëŠ” ë˜‘ê°™ì€ ì´ë¦„ìœ¼ë¡œ íƒ€ì… í™•ì¥ì´ ê°€ëŠ¥í•œ ë°˜ë©´, type aliasëŠ” ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.

ğŸ”´ interface
```ts
interface Point {
  x: number;
  y: number;
};

interface Point {
  x: number;
  y: number;
  z: number;
};
```

ğŸŸ£ type alias
```ts
type Point = {
  x: number;
  y: number;
};

type Point= {   // ì—ëŸ¬
  x: number;
  y: number;
  z: number;
};
```

### 2. extends ì‚¬ìš©
```ts
type TPoint = {
  x: number;
  y: number;
};

interface NewPoint extends TPoint {  // ê°€ëŠ¥
  z: number;
}

type NewPoint2 extends TPoint { // ë¶ˆê°€ëŠ¥ (ì—ëŸ¬)
    q: number;
}
```

### 3. &, | ì‚¬ìš©
ğŸŸ£ type alias
```ts
type PointX = { x: number };
type PointY = { y: number };

type IntersectionPoint = PointX & PointY;
type UnionPoint = PointX | PointY;
```

ğŸ”´ interface
```ts
interface PointX = { x: number };
interface PointY = { y: number };

interface IntersectionPoint = PointX & PointY; // ì—ëŸ¬
interface UnionPoint = PointX | PointY; // ì—ëŸ¬
```
### ë‘˜ ì¤‘ ì–´ëŠ íƒ€ì…ì„ ì„ í˜¸í•˜ë‚˜ìš”?
ìœ„ì˜ ê°„ë‹¨í•œ ì˜ˆì œì™€ ë‹¨í¸ì ì¸ ì°¨ì´ì ì„ íŒŒì•…í•œ í˜„ì¬ëŠ” ê°œì¸ì ìœ¼ë¡œ Type Aliasê°€ ì¢€ë” ì œì•½ì´ ì ì€ê±° ê°™ì•„ì„œ ì‚¬ìš©í•˜ëŠ”ë°ì— í¸ë¦¬í•  ê±° ë” ê°™ìŒ..!

### ì°¸ê³ 
https://github.com/DefinitelyTyped/DefinitelyTyped/pull/56210
https://emewjin.github.io/why-not-fc/
https://blog.shiren.dev/2022-04-28/
https://itchallenger.tistory.com/641
https://velog.io/@hanei100/ReactElement-vs-ReactNode-vs-JSX.Element
https://curryyou.tistory.com/488
https://velog.io/@dongkyun/TS-useRef%EC%9D%98-%EC%97%AC%EB%9F%AC%EA%B0%80%EC%A7%80-%ED%83%80%EC%9E%85